import{O as L,P as S,Q as R,R as P,S as Y,g as V,T as E,p as $,C as D,U as j,k as x,H as T,V as y,o as M,e as W,j as p,W as q,m as B,X as K,Y as Q,Z as U,_ as X,$ as Z,v as z,K as F,c as G,h as b,M as J}from"./BJDCtXdB.js";import{r as ee,b as re}from"./CIzXAvaz.js";const te=["touchstart","touchmove"];function ae(e){return te.includes(e)}const k=new Set,N=new Set;function ie(e){for(var r=0;r<e.length;r++)k.add(e[r]);for(var a of N)a(e)}let A=null;function m(e){var r=this,a=r.ownerDocument,l=e.type,i=e.composedPath?.()||[],t=i[0]||e.target;A=e;var d=0,c=A===e&&e.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(r===document||r===window)){e.__root=r;return}var _=i.indexOf(r);if(_===-1)return;f<=_&&(d=f)}if(t=i[d]||e.target,t!==r){L(e,"currentTarget",{configurable:!0,get(){return t||a}});var w=Y,o=V;S(null),R(null);try{for(var n,s=[];t!==null;){var h=t.assignedSlot||t.parentNode||t.host||null;try{var u=t["__"+l];if(u!=null&&(!t.disabled||e.target===t))if(P(u)){var[H,...I]=u;H.apply(t,[e,...I])}else u.call(t,e)}catch(g){n?s.push(g):n=g}if(e.cancelBubble||h===r||h===null)break;t=h}if(n){for(let g of s)queueMicrotask(()=>{throw g});throw n}}finally{e.__root=r,delete e.currentTarget,S(w),R(o)}}}function de(e,r){var a=r==null?"":typeof r=="object"?r+"":r;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function ne(e,r){return C(e,r)}function fe(e,r){E(),r.intro=r.intro??!1;const a=r.target,l=b,i=p;try{for(var t=$(a);t&&(t.nodeType!==D||t.data!==j);)t=x(t);if(!t)throw T;y(!0),M(t),W();const d=C(e,{...r,anchor:t});if(p===null||p.nodeType!==D||p.data!==q)throw B(),T;return y(!1),d}catch(d){if(d===T)return r.recover===!1&&K(),E(),Q(a),y(!1),ne(e,r);throw d}finally{y(l),M(i),ee()}}const v=new Map;function C(e,{target:r,anchor:a,props:l={},events:i,context:t,intro:d=!0}){E();var c=new Set,f=o=>{for(var n=0;n<o.length;n++){var s=o[n];if(!c.has(s)){c.add(s);var h=ae(s);r.addEventListener(s,m,{passive:h});var u=v.get(s);u===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,u+1)}}};f(U(k)),N.add(f);var _=void 0,w=X(()=>{var o=a??r.appendChild(Z());return z(()=>{if(t){F({});var n=G;n.c=t}i&&(l.$$events=i),b&&re(o,null),_=e(o,l)||{},b&&(V.nodes_end=p),t&&J()}),()=>{for(var n of c){r.removeEventListener(n,m);var s=v.get(n);--s===0?(document.removeEventListener(n,m),v.delete(n)):v.set(n,s)}N.delete(f),o!==a&&o.parentNode?.removeChild(o)}});return O.set(_,w),_}let O=new WeakMap;function ue(e,r){const a=O.get(e);return a?(O.delete(e),a(r)):Promise.resolve()}export{ie as d,fe as h,ne as m,de as s,ue as u};
